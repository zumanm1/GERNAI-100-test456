{% extends "base.html" %}

{% block title %}GenAI Network Automation Hub{% endblock %}

{% block content %}
<div class="container-fluid">

    <!-- Header Section -->
    <div class="d-flex justify-content-between align-items-center p-3 mb-4 bg-light rounded">
        <h1 class="h2 mb-0">üîß GenAI Network Automation Hub</h1>
        <div>
            <span class="me-3">üìä Status: <span class="text-success">üü¢ Ready</span></span>
            <button class="btn btn-sm btn-outline-secondary">‚öôÔ∏è</button>
        </div>
    </div>

    <!-- Tab Navigation -->
    <ul class="nav nav-tabs mb-4" id="automationTabs" role="tablist">
        <li class="nav-item" role="presentation">
            <button class="nav-link active" id="config-generation-tab" data-bs-toggle="tab" data-bs-target="#config-generation" type="button" role="tab" aria-controls="config-generation" aria-selected="true">ü§ñ Config Generation</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="config-deployment-tab" data-bs-toggle="tab" data-bs-target="#config-deployment" type="button" role="tab" aria-controls="config-deployment" aria-selected="false">üì§ Config Deployment</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="config-retrieval-tab" data-bs-toggle="tab" data-bs-target="#config-retrieval" type="button" role="tab" aria-controls="config-retrieval" aria-selected="false">üì• Config Retrieval</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="command-analysis-tab" data-bs-toggle="tab" data-bs-target="#command-analysis" type="button" role="tab" aria-controls="command-analysis" aria-selected="false">üîç Command Analysis</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="pipeline-status-tab" data-bs-toggle="tab" data-bs-target="#pipeline-status" type="button" role="tab" aria-controls="pipeline-status" aria-selected="false">üìä Pipeline Status</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="automation-settings-tab" data-bs-toggle="tab" data-bs-target="#automation-settings" type="button" role="tab" aria-controls="automation-settings" aria-selected="false">‚öôÔ∏è Automation Settings</button>
        </li>
    </ul>

<div class="col-lg-9">
    <!-- Tab Content -->
    <div class="tab-content" id="automationTabsContent">
        <!-- ... tab content ... -->
    </div>
</div>
<div class="col-lg-3">
    <div class="card">
        <div class="card-header">üöÄ QUICK ACTIONS</div>
        <div class="card-body">
            <div class="d-grid gap-2">
                <button class="btn btn-primary btn-sm">‚ñ∂Ô∏è Start Pipeline A</button>
                <button class="btn btn-primary btn-sm">‚ñ∂Ô∏è Start Pipeline B</button>
                <button class="btn btn-warning btn-sm">‚è∏Ô∏è Pause All Operations</button>
                <button class="btn btn-danger btn-sm">üö® Emergency Stop</button>
            </div>
        </div>
    </div>
    <div class="card mt-3">
        <div class="card-header">‚öôÔ∏è CURRENT STATUS</div>
        <div class="card-body">
            <p><strong>Pipeline A:</strong> üü¢ Running</p>
            <p><strong>Pipeline B:</strong> üü¢ Running</p>
            <p><strong>AI Agents:</strong> üü¢ All Online</p>
        </div>
    </div>
</div>

        <!-- Config Generation Tab -->
        <div class="tab-pane fade show active" id="config-generation" role="tabpanel" aria-labelledby="config-generation-tab">
            <div class="card">
                <div class="card-header">ü§ñ CONFIGURATION GENERATION PIPELINE</div>
                <div class="card-body">
                    <div class="mb-3">
                        <label for="natural-language-input" class="form-label">üí¨ NATURAL LANGUAGE INPUT</label>
                        <textarea class="form-control" id="natural-language-input" rows="3" placeholder="Configure VLAN 300 for Finance department with restricted access to HR servers and internet access during business hours only"></textarea>
                        <div class="mt-2">
                            <button class="btn btn-primary btn-sm">üöÄ Generate Config</button>
                            <button class="btn btn-secondary btn-sm">üíæ Save Template</button>
                            <button class="btn btn-info btn-sm">üìã Load Example</button>
                        </div>
                    </div>
                    <hr>
                    <div class="mb-3">
                        <label class="form-label">‚öôÔ∏è CONFIGURATION GENERATION</label>
                        <div class="progress mb-2">
                            <div class="progress-bar" role="progressbar" style="width: 80%;" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100">80%</div>
                        </div>
                        <pre class="bg-dark text-light p-3 rounded"><code>! Auto-generated from NLP - Change ID: CHG-2024-08-02-A001
vlan 300
 name FINANCE_DEPT
!time-range BUSINESS_HOURS
 periodic weekdays 8:00 to 17:00</code></pre>
                        <div class="mt-2">
                            <button class="btn btn-outline-secondary btn-sm">üìã Copy Config</button>
                            <button class="btn btn-outline-warning btn-sm">‚úèÔ∏è Edit</button>
                            <button class="btn btn-outline-info btn-sm">üîÑ Regenerate</button>
                            <button class="btn btn-outline-success btn-sm">üíæ Save</button>
                            <button class="btn btn-primary btn-sm">‚û°Ô∏è Next: Validation</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Config Deployment Tab -->
        <div class="tab-pane fade" id="config-deployment" role="tabpanel" aria-labelledby="config-deployment-tab">
            <div class="card">
                <div class="card-header">üì§ CONFIGURATION DEPLOYMENT PIPELINE</div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-4">
                            <div class="card mb-3">
                                <div class="card-header">Syntax Validation</div>
                                <div class="card-body">
                                    <p class="card-text">‚úÖ Cisco IOS Syntax: Valid</p>
                                    <p class="card-text">‚ö†Ô∏è Optimization: ACL rule order could be improved</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card mb-3">
                                <div class="card-header">Logic Validation</div>
                                <div class="card-body">
                                    <p class="card-text">‚úÖ IP Addressing: No conflicts detected</p>
                                    <p class="card-text">‚úÖ VLAN Conflicts: VLAN 300 available</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="card mb-3">
                                <div class="card-header">Security Validation</div>
                                <div class="card-body">
                                    <p class="card-text">‚úÖ Compliance: Meets corporate policy</p>
                                    <p class="card-text">‚úÖ CVE Check: No known vulnerabilities</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="text-center mb-4">
                        <button class="btn btn-sm btn-primary">‚û°Ô∏è Proceed to Testing</button>
                    </div>
                    <hr>
                    <div class="row">
                        <div class="col-md-6">
                            <h5>üß™ CONFIGURATION TESTING</h5>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="testEnv" id="dummyDevice" checked>
                                <label class="form-check-label" for="dummyDevice">Dummy Device (GNS3 Lab)</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="testEnv" id="realDevice">
                                <label class="form-check-label" for="realDevice">Real Device (Test VLAN)</label>
                            </div>
                            <div class="progress mb-2 mt-2">
                                <div class="progress-bar bg-success" role="progressbar" style="width: 100%;" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100">100% Complete</div>
                            </div>
                            <p><strong>Test Summary:</strong> All tests passed ‚úÖ</p>
                            <button class="btn btn-sm btn-primary">‚û°Ô∏è Deploy to Real Device</button>
                        </div>
                        <div class="col-md-6">
                            <h5>üöÄ PRODUCTION DEPLOYMENT</h5>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" value="" id="r1-hq" checked>
                                <label class="form-check-label" for="r1-hq">R1-HQ (192.168.1.1) - Core Router</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" value="" id="sw2-floor2" checked>
                                <label class="form-check-label" for="sw2-floor2">SW2-Floor2 (192.168.1.10) - Access Switch</label>
                            </div>
                            <p class="mt-2"><strong>Deployment Status:</strong></p>
                            <p class="mb-1">R1-HQ: ‚úÖ Success</p>
                            <p class="mb-1">SW2-Floor2: ‚úÖ Success</p>
                            <button class="btn btn-sm btn-danger mt-2">üîÑ Rollback</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Config Retrieval Tab -->
        <div class="tab-pane fade" id="config-retrieval" role="tabpanel" aria-labelledby="config-retrieval-tab">
            <div class="card">
                <div class="card-header">üì• CONFIGURATION RETRIEVAL PIPELINE</div>
                <div class="card-body">
                    <div class="mb-3">
                        <label for="natural-language-query" class="form-label">üí¨ NATURAL LANGUAGE QUERY</label>
                        <textarea class="form-control" id="natural-language-query" rows="3" placeholder="Show me all interface configurations on core routers and their current status"></textarea>
                        <div class="mt-2">
                            <button class="btn btn-primary btn-sm">üîç Extract Info</button>
                            <button class="btn btn-secondary btn-sm">üìã Load Query Template</button>
                            <button class="btn btn-info btn-sm">üíæ Save Query</button>
                        </div>
                    </div>
                    <hr>
                    <div class="mb-3">
                        <label class="form-label">‚öôÔ∏è COMMAND GENERATION</label>
                        <p><strong>Target Devices:</strong> R1-Core, R2-Core (Core Routers)</p>
                        <pre class="bg-dark text-light p-3 rounded"><code>show running-config interface
show ip interface brief
show interface status</code></pre>
                        <div class="mt-2">
                            <button class="btn btn-outline-secondary btn-sm">üîç Preview Commands</button>
                            <button class="btn btn-outline-warning btn-sm">‚úèÔ∏è Edit</button>
                            <button class="btn btn-outline-info btn-sm">üîÑ Regenerate</button>
                            <button class="btn btn-primary btn-sm">‚û°Ô∏è Execute</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Command Analysis Tab -->
        <div class="tab-pane fade" id="command-analysis" role="tabpanel" aria-labelledby="command-analysis-tab">
            <div class="card">
                <div class="card-header">üîç COMMAND ANALYSIS & DATA PROCESSING</div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h5>üì° COMMAND EXECUTION RESULTS</h5>
                            <div class="progress mb-2">
                                <div class="progress-bar bg-success" role="progressbar" style="width: 100%;" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100">100% Complete</div>
                            </div>
                            <pre class="bg-dark text-light p-3 rounded"><code>R1-Core - show ip interface brief:
Interface                  IP-Address      OK? Method Status                Protocol
FastEthernet0/0            192.168.1.1     YES NVRAM  up                    up
FastEthernet0/1            192.168.2.1     YES NVRAM  up                    up</code></pre>
                            <button class="btn btn-sm btn-primary">‚û°Ô∏è Process with AI</button>
                        </div>
                        <div class="col-md-6">
                            <h5>ü§ñ AI AGENT PROCESSING (CrewAI)</h5>
                            <div class="progress mb-2">
                                <div class="progress-bar" role="progressbar" style="width: 85%;" aria-valuenow="85" aria-valuemin="0" aria-valuemax="100">85%</div>
                            </div>
                            <p><strong>Active Agents:</strong></p>
                            <ul>
                                <li>üîç Data Parser Agent: Extracting interface information</li>
                                <li>üìä Analysis Agent: Identifying patterns and issues</li>
                            </ul>
                            <div class="mt-2">
                                <button class="btn btn-outline-secondary btn-sm">üìã Copy Summary</button>
                                <button class="btn btn-outline-info btn-sm">üîÑ Re-analyze</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Pipeline Status Tab -->
        <div class="tab-pane fade" id="pipeline-status" role="tabpanel" aria-labelledby="pipeline-status-tab">
            <div class="card">
                <div class="card-header">üìä AUTOMATION PIPELINE STATUS</div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h5>üîÑ ACTIVE PIPELINES</h5>
                            <div class="card mb-3">
                                <div class="card-body">
                                    <h6 class="card-title">Pipeline A: Configuration Generation & Deployment</h6>
                                    <p class="card-text">Status: üü¢ Active | Jobs Today: 12 | Success Rate: 95.8%</p>
                                    <button class="btn btn-sm btn-outline-primary">üìä Metrics</button>
                                </div>
                            </div>
                            <div class="card">
                                <div class="card-body">
                                    <h6 class="card-title">Pipeline B: Configuration Retrieval & Analysis</h6>
                                    <p class="card-text">Status: üü¢ Active | Queries Today: 47 | Success Rate: 98.9%</p>
                                    <button class="btn btn-sm btn-outline-primary">üìä Metrics</button>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <h5>üìà PERFORMANCE DASHBOARD</h5>
                            <table class="table table-sm table-bordered">
                                <thead>
                                    <tr>
                                        <th>Metric</th>
                                        <th>Pipeline A</th>
                                        <th>Pipeline B</th>
                                        <th>System</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>Success Rate</td>
                                        <td>95.8%</td>
                                        <td>98.9%</td>
                                        <td>-</td>
                                    </tr>
                                    <tr>
                                        <td>Avg. Time</td>
                                        <td>2.4min</td>
                                        <td>45sec</td>
                                        <td>-</td>
                                    </tr>
                                    <tr>
                                        <td>CPU Usage</td>
                                        <td colspan="3">34%</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Automation Settings Tab -->
        <div class="tab-pane fade" id="automation-settings" role="tabpanel" aria-labelledby="automation-settings-tab">
            <div class="card">
                <div class="card-header">‚öôÔ∏è AUTOMATION SETTINGS & CONFIGURATION</div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h5>üéõÔ∏è PIPELINE CONFIGURATION</h5>
                            <div class="mb-3">
                                <label for="pipeline-a-settings" class="form-label">Pipeline A Settings (Config Generation)</label>
                                <select class="form-select" id="pipeline-a-settings">
                                    <option>Supervised</option>
                                    <option>Fully Automated</option>
                                </select>
                            </div>
                            <div class="mb-3">
                                <label for="pipeline-b-settings" class="form-label">Pipeline B Settings (Config Retrieval)</label>
                                <select class="form-select" id="pipeline-b-settings">
                                    <option>Full Automation</option>
                                    <option>Supervised</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <h5>üîê SECURITY & COMPLIANCE</h5>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" value="" id="sox-compliance" checked>
                                <label class="form-check-label" for="sox-compliance">SOX compliance mode</label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" value="" id="pci-dss">
                                <label class="form-check-label" for="pci-dss">PCI DSS requirements</label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>
{% endblock %}
